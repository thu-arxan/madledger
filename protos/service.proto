syntax = "proto3";

package protos;

import "block.proto";

// The services that orderers should provide
service Orderer{
    rpc FetchBlock(FetchBlockRequest) returns (Block) {}
    rpc ListChannels(ListChannelsRequest) returns(ChannelInfos) {}
    rpc AddChannel(AddChannelRequest) returns(ChannelInfo){}
}

// However, this is not contains sig now, but this is necessary
// if we want to verify the permission.
// TODO: add sig to identity.
message FetchBlockRequest {
    string ChannelID = 1;
    uint64 Number = 2;
}

message ListChannelsRequest {
    // If system channel are included
    bool System = 1;
}

// ChannelInfos contains ChannelInfo
message ChannelInfos {
    repeated ChannelInfo Channels = 1;
}

// ChannelInfo includes some infomations of a channel
message ChannelInfo {
    string ChannelID = 1;
    uint64 BlockSize = 2;
}

// AddChannelRequest includes the profile of Channel
message AddChannelRequest {
    string ChannelID = 1;
}